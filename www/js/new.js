var mrpjq=jQuery;
(function(e){e.fn.mrp=function(c){function Qa(a){(function(a,r,f){var b=a.getElementsByTagName(r)[0];a.getElementById(f)||(a=a.createElement(r),a.id=f,a.src="//connect.facebook.net/en_US/sdk.js",b.parentNode.insertBefore(a,b))})(document,"script","facebook-jssdk");window.fbAsyncInit=function(){FB.init({appId:a,xfbml:!0,version:"v2.9"})}}function lb(a){if(q){if(!ia){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();ia=!0;aa.on(S,function(a){a:{if("touchmove"==
a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();Ra(b)}}).on(ja,function(a){a:if(ia){ia=!1;aa.off(S).off(ja);if("touchend"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=
a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();Ra(b)}})}return!1}}function P(){if(!q)return!1;0<n?(za=n,n=0):n=za;ka()}function Ra(a){Q?(n=Math.max(0,Math.min(1,(a.pageY-H.offset().top)/I)),n=1-n):n=Math.max(0,Math.min(1,(a.pageX-H.offset().left)/I));ka()}function ka(a){"undefined"!==typeof a&&(n=a);h&&(h.volume=n);a=Q?"height":"width";MRPUtils.isNumber(I)||(I=Q?H.height():H.width());mb.css(a,n*I+"px");0==n?(ba.find(".mrp-volume-icon").hide(),
ba.find(".mrp-mute-icon").show()):(ba.find(".mrp-volume-icon").show(),ba.find(".mrp-mute-icon").hide())}function Sa(a){var b=Q?a.pageY-H.offset().top:a.pageX-H.offset().left;0>b?b=0:b>I&&(b=I);b=Math.max(0,Math.min(1,b/I));if(!MRPUtils.isNumber(b))return!1;Q&&(b=1-b);b=parseInt(100*b,10);u.text(b+" %");b=d[0].getBoundingClientRect();var r=G[0].getBoundingClientRect();if(Q){var f=parseInt(r.left-b.left-u.outerWidth()/2+G.outerWidth()/2);a=parseInt(a.pageY-Ta.scrollTop()-b.top-u.outerHeight()-10)}else f=
parseInt(a.pageX-Ta.scrollLeft()-b.left-u.outerWidth()/2),a=parseInt(r.top-b.top-u.outerHeight());0>a+b.top&&(a=parseInt(r.top-b.top+u.outerHeight()+15));u.css({left:f+"px",top:a+"px"}).show()}function nb(a){if(!q)return!1;a=e(a.currentTarget);a.hasClass("mrp-playback-toggle")&&l.togglePlayback();if(a.hasClass("mrp-prev-toggle"))if(ca){var b=C?C.attr("data-id"):0;b--;0>b&&(b=T-1);E.find(".mrp-playlist-item[data-id="+b+"]").click()}else c.activeRadioStationIndex--,0>c.activeRadioStationIndex&&(c.activeRadioStationIndex=
T-1),da(la[c.activeRadioStationIndex]);if(a.hasClass("mrp-next-toggle"))ca?(b=C?C.attr("data-id"):0,b++,b>T-1&&(b=0),E.find(".mrp-playlist-item[data-id="+b+"]").click()):(c.activeRadioStationIndex++,c.activeRadioStationIndex>T-1&&(c.activeRadioStationIndex=0),da(la[c.activeRadioStationIndex]));else if(a.hasClass("mrp-volume-toggle"))U&&void 0==a.attr("data-toggle-mute")||P();else if(a.hasClass("mrp-popup-toggle"))l.openPopup();else if(a.hasClass("mrp-playlist-toggle"))l.togglePlaylist();else if(a.hasClass("mrp-share-item"))a:{a=
a.attr("data-type").toLowerCase();b=(window.screen.width-600)/2;var r=(window.screen.height-300)/2,f=x||"",t=k.description||"",d=Ua||"",g=k.share||window.location.href;MRPUtils.relativePath(d)||(d=MRPUtils.qualifyURL(d));if("facebook"==a)window.FB&&FB.ui({method:"share_open_graph",action_type:"og.shares",action_properties:JSON.stringify({object:{"og:url":g,"og:title":f,"og:description":t,"og:image":d}})});else if("twitter"==a)var h=Va+"//twitter.com/share?url="+encodeURIComponent(g)+"&text="+encodeURIComponent(f);
else if("tumblr"==a)h=Va+"//www.tumblr.com/share/link?url="+encodeURIComponent(g)+"&amp;name="+encodeURIComponent(f)+"&amp;description="+encodeURIComponent(t);else if("whatsapp"==a)if(U){h=encodeURIComponent(f)+" - "+encodeURIComponent(g);window.location.href="whatsapp://send?text="+h;break a}else alert(setting.whatsAppWarning);h&&window.open(h,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=300,left="+b+",top="+r)}}function ma(a){if("undefined"===typeof mCustomScrollbar)if(window.playlistScrollLoading)var b=
setInterval(function(){playlistScrollLoading||(clearInterval(b),ma(a))},100);else{window.playlistScrollLoading=!0;var r=document.createElement("script");r.type="text/javascript";r.src=MRPUtils.qualifyURL(Aa+"js/jquery.mCustomScrollbar.concat.min.js");r.onload=r.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(ma(a),window.playlistScrollLoading=!1)};r.onerror=function(){alert("Error loading "+this.src)};var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(r,
f)}else a.mCustomScrollbar({axis:"horizontal"==ob?"x":"y",theme:c.scrollTheme,scrollInertia:0,mouseWheel:{normalizeDelta:!0,deltaFactor:50,preventDefault:!0},keyboard:{enable:!1},advanced:{autoExpandHorizontalScroll:!0},callbacks:{onOverflowYNone:function(){a.find(".mCSB_container").addClass("mrp-mCSB_full")},onOverflowY:function(){a.find(".mCSB_container").removeClass("mrp-mCSB_full")}}})}function da(a){na=!0;oa.show();Ba&&Wa();c.activeRadioStationIndex=a.index();Ba=a;k=pb(a);v=k.type;ka(n);Xa?(Xa=
!1,setTimeout(function(){Ya()},250)):Ya()}function Ca(){var a=k.radio;";"==a.substring(a.length-1)&&(a=a.substring(0,a.length-1));window.radioDataXHR&&window.radioDataXHR.abort();var b=new XMLHttpRequest;b.onerror=function(a){};b.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){if(k.version&&1==k.version)var a=b.responseText.split(","),f=a[6];else a=JSON.parse(b.responseText),f=a.songtitle;J=a;if(K)x?x!=f&&Da():Da();else{var t=f.split("-");a=e.trim(t[0]);t=e.trim(t[1]);m=
[];y=-1;m.push({artist:a,title:t,thumb:z});A=1;x?x!=f&&(z?D():F()):z?D():F()}x=f}else L||(g&&clearInterval(g),g=setInterval(function(){Ca()},V))};k.version&&1==k.version?b.open("GET",M[B]+a+"7.html",!0):b.open("GET",M[B]+a+"/stats?sid="+(k.sid||"1")+"&json=1",!0);b.send();window.radioDataXHR=b}function Da(){m=[];y=-1;var a=k.radio;";"==a.substring(a.length-1)&&(a=a.substring(0,a.length-1));window.radioXHR&&window.radioXHR.abort();var b=new XMLHttpRequest;b.onerror=function(a){};b.onreadystatechange=
function(){if(4===this.readyState)if(200===this.status){var a=b.responseText,f=a.indexOf("Song Title")+12;a=a.substr(f,a.length);a=a.split("</td><td>");a.shift();var t;A=a.length;10<A&&(A=10);Ea&&(A=1);for(t=0;t<A;t++){f=a[t].indexOf("</");a[t]=a[t].substr(0,f);a[t]=a[t].replace(/<\/?[^>]+(>|$)/g,"");var c=a[t].split(" - ");f=c[0].trim();c=c[1]?c[1].trim():"";-1<c.indexOf("Current Song")&&(c=c.substr(0,c.length-12));0==t?m.push({artist:f,title:c,thumb:z}):m.push({artist:f,title:c,thumb:W})}z||W?D():
F()}else L||(g&&clearInterval(g),g=setInterval(function(){Da()},V))};b.open("GET",M[B]+a+"played.html");b.send();window.radioXHR=b}function Fa(){window.radioDataXHR&&window.radioDataXHR.abort();var a=new XMLHttpRequest;a.onerror=function(a){};a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var b=JSON.parse(a.responseText),r=b.artist,f=b.title,c=r+" - "+f;J=b;K?x?x!=c&&Ga():Ga():(m=[],y=-1,m.push({artist:r,title:f,thumb:z}),A=1,x?x!=c&&(z?D():F()):z?D():F());x=c}else L||
(g&&clearInterval(g),g=setInterval(function(){Fa()},V))};a.open("GET",M[B]+("http://www.radiojar.com/api/stations/"+k.mountpoint+"/now_playing/"),!0);a.send();window.radioDataXHR=a}function Ga(){m=[];y=-1;var a=k.radio;";"==a.substring(a.length-1)&&(a=a.substring(0,a.length-1));window.radioXHR&&window.radioXHR.abort();var b=new XMLHttpRequest;b.onerror=function(a){};b.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){console.log(b.responseText);var a=b.responseText,f=a.indexOf("[{");
a=a.substr(f,a.length);a=JSON.parse(a);a.reverse();10<a.length&&(a=a.splice(0,10));A=a.length;Ea&&(A=1);for(f=0;f<A;f++){var c=a[f].artist;var e=a[f].track;0==f?m.push({artist:c,title:e,thumb:z}):m.push({artist:c,title:e,thumb:W})}z||W?D():F()}else L||(g&&clearInterval(g),g=setInterval(function(){Ga()},V))};b.open("GET",M[B]+("http://www.radiojar.com/api/stations/"+k.mountpoint+"/tracks/"));b.send();window.radioXHR=b}function pa(){var a=k.radio;";"==a.substring(a.length-1)&&(a=a.substring(0,a.length-
1));window.radioXHR&&window.radioXHR.abort();var b=new XMLHttpRequest;b.onerror=function(a){};b.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){if(-1<this.responseText.indexOf('{"icestats":')){var a=JSON.parse(this.responseText);if(void 0===a.icestats.source.length)var b=a.icestats.source;else{var c,d=a.icestats.source.length;for(c=0;c<d;c++)if(0<=a.icestats.source[c].listenurl.indexOf(k.mountpoint)){b=a.icestats.source[c];break}}J=b;a=b.title}else-1<this.responseText.indexOf('class="streamdata"')?
-1<this.responseText.indexOf("Mount Point /"+k.mountpoint)&&(b=this.responseText.substr(this.responseText.indexOf("Mount Point /"+k.mountpoint)),b=b.substr(b.indexOf("Current Song:")),b=b.substr(b.indexOf('<td class="streamdata">')+23),b=b.substr(0,b.indexOf("</td>")),MRPUtils.isEmpty(b)||(a=b)):-1<this.responseText.indexOf('class="streamstats"')&&-1<this.responseText.indexOf("Mount Point /"+k.mountpoint)&&(b=this.responseText.substr(this.responseText.indexOf("Mount Point /"+k.mountpoint)),b=b.substr(b.indexOf("Currently playing:")),
b=b.substr(b.indexOf('<td class="streamstats">')+24),b=b.substr(0,b.indexOf("</td>")),MRPUtils.isEmpty(b)||(a=b));a?(c=a.split("-"),b=e.trim(c[0]),c=e.trim(c[1]),m=[],y=-1,m.push({artist:b,title:c,thumb:!0}),A=1,x?x!=a&&(z?D():F()):z?D():F(),x=a):(ea({artist:Za,title:$a,thumb:qa}),oa.hide())}else 404==this.status&&"Not Found"==this.statusText?(console.log(Ha[ra]+" does not exist!"),ra++,Ha[ra]?L||(g&&clearInterval(g),pa()):(ea({artist:Za,title:$a,thumb:qa}),oa.hide())):L||(g&&clearInterval(g),g=setInterval(function(){pa()},
V))};b.open("GET",M[B]+a+Ha[ra],!0);b.send();window.radioXHR=b}function F(){oa.hide();B=0;if("shoutcast"==v||"radiojar"==v)if(Ea){var a=m.shift();ea(a);K&&(0==p.length?p.push(a):(p[0].artist==a.artist&&p[0].title==a.title&&p[0].thumb==a.thumb||p.unshift(a),10<p.length&&p.pop(),1<p.length&&Ia(p.slice(1))))}else ea(m.shift()),K&&Ia(m);else"icecast"==v&&(a=m.shift(),ea(a),K&&(0==p.length?p.push(a):(p[0].artist==a.artist&&p[0].title==a.title&&p[0].thumb==a.thumb||p.unshift(a),10<p.length&&p.pop(),1<p.length&&
Ia(p.slice(1)))));L=!0;na=!1;g&&clearInterval(g);g=setInterval(function(){"shoutcast"==v?Ca():"icecast"==v?pa():"radiojar"==v&&Fa()},V)}function D(){y++;if(y==A)F();else if(!W&&0<y)F();else if(m[y].thumb){var a=m[y].artist,b=m[y].title,c,f=Ja.length;for(c=0;c<f;c++)a=a.replace(Ja[c],""),b=b.replace(Ja[c],"");c=M[B]+"https://itunes.apple.com/search?type=jsonp&term=="+encodeURI(a)+"&media=music&limit=1";a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var a=
JSON.parse(this.responseText);a=a.resultCount?a.results[0].artworkUrl100:w;m[y]&&(m[y].thumb=a,D())}else 403===this.status&&m[y]&&(B++,B>M.length-1&&(B=0),D())};a.open("GET",c,!0);a.send();window.artworkDataXHR=a}else D()}function Ia(a){N.empty();var b,c=a.length,f;for(b=0;b<c;b++){var d=a[b];var h=e('<div class="mrp-playlist-item"/>');if((f=d.thumb||w)&&!0!==f){var g=new Image;g.alt=d.title||"image";g.className="mrp-playlist-thumb-img";g.onload=function(){this.className+=" mrp-visible"};g.src=f;
e('<span class="mrp-playlist-thumb"></span>').append(g).appendTo(h)}f=e('<span class="mrp-playlist-info"></span>').appendTo(h);(MRPUtils.isEmpty(d.title)||MRPUtils.isEmpty(d.artist)?MRPUtils.isEmpty(d.title)?e('<span class="mrp-playlist-artist">'+d.artist+"</span>"):e('<span class="mrp-playlist-title">'+d.title+"</span>"):e('<span class="mrp-playlist-title">'+d.title+'</span><span class="mrp-playlist-separator">'+qb+'</span><span class="mrp-playlist-artist">'+d.artist+"</span>")).appendTo(f);h.appendTo(N)}Ka=
c;ab&&!bb&&(bb=!0,ma(sa))}function rb(){E.empty();var a,b,c,f=0;X.find(".mrp-playlist-item").each(function(){a=e(this).clone().attr("data-id",f).on("click",function(){var a=e(this);if(a.hasClass("mrp-playlist-item-active"))return!1;C&&C.removeClass("mrp-playlist-item-active");C=a.addClass("mrp-playlist-item-active");K&&setTimeout(function(){ta.click()},500);da(a)});var d=a.attr("data-radio-thumb");if(d){var g=new Image;g.alt=a.attr("data-title")||"image";g.className="mrp-playlist-thumb-img";g.onload=
function(){this.className+=" mrp-visible"};g.src=d;e('<span class="mrp-playlist-thumb"></span>').append(g).appendTo(a)}c=e('<span class="mrp-playlist-info"></span>').appendTo(a);b=a.attr("data-radio-title")||"";e('<span class="mrp-playlist-title">'+b+"</span>").appendTo(c);a.appendTo(E);a.hasClass("mrp-playlist-item-active")&&(C=a);f++});ab&&!La&&(La=!0,ma(ua))}function ea(a){cb.html(a.title);db.html(a.artist);if(!z)if(w)a.thumb=w;else return;var b=a.thumb;if(b&&(Ua=b=b==w&&qa?qa:b.replace("100x100bb",
c.playerArtworkSize),va.hasClass("mrp-thumb-hidden")?va.css("background-image","url("+b+")").removeClass("mrp-thumb-hidden"):(eb.css("background-image","url("+b+")").removeClass("mrp-thumb-hidden"),va.addClass("mrp-thumb-hidden")),"mediaSession"in navigator)){b=a.thumb!=w?a.thumb.replace("100x100bb","96x96bb"):w;var d=a.thumb!=w?a.thumb.replace("100x100bb","128x128bb"):w,f=a.thumb!=w?a.thumb.replace("100x100bb","192x192bb"):w,e=a.thumb!=w?a.thumb.replace("100x100bb","256x256bb"):w,g=a.thumb!=w?a.thumb.replace("100x100bb",
"384x384bb"):w;navigator.mediaSession.metadata=new MediaMetadata({title:a.title,artist:a.artist,artwork:[{src:b,sizes:"96x96",type:"image/png"},{src:d,sizes:"128x128",type:"image/png"},{src:f,sizes:"192x192",type:"image/png"},{src:e,sizes:"256x256",type:"image/png"},{src:g,sizes:"384x384",type:"image/png"},{src:g,sizes:"512x512",type:"image/png"}]})}}function Ya(){fb||(fa=e(document.createElement("audio")).attr("preload",sb),h=fa[0],fb=!0);Ma=k.radio;k.mountpoint&&(Ma+=k.mountpoint);h.src=Ma;fa.on("ended",
function(){}).on("canplay",function(a){}).on("canplaythrough",function(a){}).on("loadedmetadata",function(){k.playbackRate&&(h.playbackRate=Number(k.playbackRate))}).on("play",function(){Na||(Na=!0,e(l).trigger("soundStart",{instance:l,instanceName:O,radioData:J}));if(tb&&1<mrp_mediaArr.length){var a,c=mrp_mediaArr.length;for(a=0;a<c;a++)l!=mrp_mediaArr[a].inst&&mrp_mediaArr[a].inst.pauseMedia()}R.find(".mrp-play-icon").hide();R.find(".mrp-pause-icon").show();Y=!0;e(l).trigger("soundPlay",{instance:l,
instanceName:O,radioData:J})}).on("pause",function(){R.find(".mrp-play-icon").show();R.find(".mrp-pause-icon").hide();Y=!1;e(l).trigger("soundPause",{instance:l,instanceName:O,radioData:J})}).on("error",function(a){console.log(a);e(l).trigger("soundError",{instance:l,instanceName:O,error:a})});if(wa){var a=h.play();void 0!==a&&a.then(function(){})["catch"](function(a){})}h.volume=n;wa=!0;"shoutcast"==v?Ca():"icecast"==v?pa():"radiojar"==v&&Fa()}function gb(){g&&clearInterval(g);g=null;h&&(h.pause(),
h.src="");fa&&fa.off("ended canplay canplaythrough loadedmetadata pause play error");cb.html("");db.html("");eb.css("background-image","none").addClass("mrp-thumb-hidden");va.css("background-image","none").addClass("mrp-thumb-hidden");v=J=null;Na=Y=!1;R.find(".mrp-play-icon").show();R.find(".mrp-pause-icon").hide()}function Wa(){window.radioXHR&&(window.radioXHR.abort(),delete window.radioXHR);window.radioDataXHR&&(window.radioDataXHR.abort(),delete window.radioDataXHR);window.artworkDataXHR&&(window.artworkDataXHR.abort(),
delete window.artworkDataXHR);v&&gb();B=0;N.empty();L=null;p=[]}function pb(a){var b={};void 0!=a.attr("data-type")&&(b.type=a.attr("data-type"));void 0!=a.attr("data-radio-url")&&(b.radio=a.attr("data-radio-url"),"icecast"==b.type||"radiojar"==b.type)&&(b.mountpoint=b.radio.substr(b.radio.lastIndexOf("/")+1),b.radio=b.radio.substr(0,b.radio.lastIndexOf("/")+1));void 0!=a.attr("data-version")&&(b.version=a.attr("data-version"));void 0!=a.attr("data-sid")&&(b.sid=a.attr("data-sid"));return b}e(this).hasClass("mrp-fixed")&&
e(this).appendTo(e("body")).css("opacity",1);var d=e(this),Oa=d.find(".mrp-player-holder"),ub=d.find(".mrp-playlist-holder"),E=d.find(".mrp-playlist-content"),Z=d.find(".mrp-playlist-filter-msg"),ua=d.find(".mrp-playlist-inner"),N=d.find(".mrp-history-content"),sa=d.find(".mrp-history-inner"),vb=d.find(".mrp-popup-toggle"),eb=d.find(".mrp-player-thumb1"),va=d.find(".mrp-player-thumb2"),cb=d.find(".mrp-player-title"),db=d.find(".mrp-player-artist"),R=d.find(".mrp-playback-toggle"),oa=d.find(".mrp-preloader"),
ta=d.find(".mrp-history-title").on("click",function(){if(!q||e(this).hasClass("mrp-title-active"))return!1;N.children(".mrp-playlist-item").show();Z.hide();hb.val("");sa.css({transform:"translateX(0px)"});ua.css({transform:"translateX(0)"});ta.addClass("mrp-title-active");ib.removeClass("mrp-title-active")}),ib=d.find(".mrp-station-title").on("click",function(){if(!q||e(this).hasClass("mrp-title-active"))return!1;E.children(".mrp-playlist-item").show();Z.hide();hb.val("");sa.css({transform:"translateX(-100%)"});
ua.css({transform:"translateX(-100%)"});ta.removeClass("mrp-title-active");ib.addClass("mrp-title-active")});c=e.extend(!0,{},{playlistList:"#mrp-playlist-list",volume:.5,preload:"auto",togglePlaybackOnMultipleInstances:!0,useKeyboardNavigationForPlayback:!1,scrollOrientation:"vertical",scrollTheme:"minimal",cors:"https://kastproxy-us.herokuapp.com/,https://kastproxy-eu.herokuapp.com/,https://cors-anywhere.herokuapp.com/,https://cors.io/?",getPlayerArtwork:!0,getHistoryArtwork:!1,createHistoryList:!0,
playerArtworkSize:"256x256bb",instanceName:"player"+Math.floor(1E6*Math.random()),defaultHistoryArtwork:"data/default_artwork/star_small.png",defaultPlayerArtwork:"data/default_artwork/podcast.png",defaultSongTitle:"DATA NOT AVAILABLE",defaultSongArtist:"DATA NOT AVAILABLE",whatsAppWarning:"Please share this content on mobile device!",playlistTitleArtistSeparator:"",hideVolumeOnIOS:!0},c);var U=MRPUtils.isMobile();MRPUtils.hasLocalStorage();var X=e(c.playlistList),Aa=c.sourcePath,O=c.instanceName,
wa=c.autoPlay,sb=c.preload,ab=c.useScroll,ob=c.scrollOrientation,wb=c.useKeyboardNavigationForPlayback,jb=c.facebookAppId,n=c.volume,M=c.cors.split(",").map(function(a){return a.trim()}),tb=c.togglePlaybackOnMultipleInstances,z=c.getPlayerArtwork,qa=c.defaultPlayerArtwork,$a=c.defaultSongTitle,Za=c.defaultSongArtist,W=c.getHistoryArtwork,w=c.defaultHistoryArtwork,K=c.createHistoryList,Ea=c.createHistoryListAsItPlays,ca=c.createRadioList,qb=c.playlistTitleArtistSeparator;K||(W=!1);var l=this;e("body");
var Ta=e(window),aa=e(document),xb=MRPUtils.isIOS();MRPUtils.isAndroid();var yb=MRPUtils.isChrome(),zb=MRPUtils.isSafari(),Va="https:"==window.location.protocol?"https:":"http:",Ab=MRPUtils.volumeCanBeSet(),fb,fa,h,J,L,x,Ua,bb,La,p=[],m=[],y,A,g,V=c.lastPlayedInterval,Ha=["/status-json.xsl","/status.xsl"],ra=0,Na,v,Ma,Y,k,Ba,na=!0,C=0,Ka=0,la=[],Ja=["feat.","ft.","Feat.","Ft."],B=0;"undefined"===typeof window.mrp_mediaArr&&(window.mrp_mediaArr=[]);window.mrp_mediaArr.push({inst:l,id:O});if(wa&&!MRPUtils.iFrame&&
(yb||zb)&&!U){var Bb=MRPUtils.qualifyURL(Aa+"data/silence.mp3");MRPUtils.iFrame=e('<iframe src="'+Bb+'" allow="autoplay" style="display:none"></iframe>').appendTo("body");var Xa=!0}U&&(wa=!1);var hb=d.find(".mrp-search-filter").on("keyup.apfilter",function(){if(!q)return!1;if(ta.hasClass("mrp-title-active")){if(!K)return!1;var a=e(this).val().toLowerCase(),b,c=0;for(b=0;b<Ka;b++){var f=N.children(".mrp-playlist-item").eq(b);var d=f.find(".mrp-playlist-title");f=f.find(".mrp-playlist-artist");d=0==
d.length?"":d.html().toLowerCase();f=0==f.length?"":f.html().toLowerCase();-1<d.indexOf(a)||-1<f.indexOf(a)?N.children(".mrp-playlist-item").eq(b).show():(N.children(".mrp-playlist-item").eq(b).hide(),c++)}c==Ka?Z.show():Z.hide()}else{if(!ca)return!1;a=e(this).val().toLowerCase();for(b=c=0;b<T;b++)d=E.children(".mrp-playlist-item").eq(b).find(".mrp-playlist-title").html().toLowerCase(),-1<d.indexOf(a)?E.children(".mrp-playlist-item").eq(b).show():(E.children(".mrp-playlist-item").eq(b).hide(),c++);
c==T?Z.show():Z.hide()}});MRPUtils.isEmpty(jb)||"file:"==window.location.protocol?console.log("facebookAppId has not been set in settings!"):Qa(jb);var u=d.find(".mrp-tooltip");U||("static"==d.css("position")&&console.log("wrapper css position is static, therefore tooltip might not work correctly. Please set wrapper css to other than static."),d.on("mouseenter","[data-tooltip]",function(a){var b=e(this);a=d[0].getBoundingClientRect();var c=b[0].getBoundingClientRect();u.text(b.attr("data-tooltip"));
var f=parseInt(c.top-a.top-u.outerHeight());b=parseInt(c.left-a.left-u.outerWidth()/2+b.outerWidth()/2);b+u.outerWidth()>d.width()?b=d.width()-u.outerWidth():0>b&&(b=0);0>f+a.top&&(f=parseInt(c.top-a.top+u.outerHeight()+15));u.css({left:b+"px",top:f+"px"}).show()}).on("mouseleave","[data-tooltip]",function(a){u.hide()}));if("ontouchstart"in window){var Pa="touchstart.ap mousedown.ap";var S="touchmove.ap mousemove.ap";var ja="touchend.ap mouseup.ap"}else window.PointerEvent?(Pa="pointerdown.ap",S=
"pointermove.ap",ja="pointerup.ap"):(Pa="mousedown.ap",S="mousemove.ap",ja="mouseup.ap");var za=.5,ia,ba=d.find(".mrp-volume-toggle"),G=d.find(".mrp-volume-seekbar"),H=d.find(".mrp-volume-bg"),mb=d.find(".mrp-volume-level"),Q=void 0!=G.attr("data-is-vertical")?!0:!1,I=Q?H.height():H.width();0>n?n=0:1<n&&(n=1);0!=n&&(za=n);if(Ab)G.on(Pa,function(a){lb(a);return!1});else xb&&c.hideVolumeOnIOS&&(d.find(".mrp-volume-wrapper").remove(),d.find(".mrp-volume-toggle").remove());if(!U){var xa=function(){G.off(S,
Sa).off("mouseout",xa);aa.off("mouseout",xa);u.hide()};G.on("mouseover",function(){G.on(S,Sa).on("mouseout",xa);aa.on("mouseout",xa)})}wb&&aa.keyup(function(a){if(!q)return!1;var b=a.keyCode;e(a.target);32==b?(l.togglePlayback(),a.preventDefault()):77==b&&P()});var kb=[d.find(".mrp-share-item"),vb,R,ba,d.find(".mrp-prev-toggle"),d.find(".mrp-next-toggle"),d.find(".mrp-playlist-toggle")],Cb=kb.length,ya;for(ya=0;ya<Cb;ya++)e(kb[ya]).css("cursor","pointer").on("click",nb);this.playMedia=function(){if(!q||
!v||Y)return!1;if(h){h.load();var a=h.play();void 0!==a&&a.then(function(){})["catch"](function(a){})}};this.pauseMedia=function(){if(!q||!v||!Y)return!1;h&&h.pause()};this.togglePlayback=function(){if(!q||!v)return!1;if(h)if(h.paused){h.load();var a=h.play();void 0!==a&&a.then(function(){})["catch"](function(a){})}else h.pause()};this.destroyInstance=function(){window.radioXHR&&(window.radioXHR.abort(),delete window.radioXHR);window.radioDataXHR&&(window.radioDataXHR.abort(),delete window.radioDataXHR);
window.artworkDataXHR&&(window.artworkDataXHR.abort(),delete window.artworkDataXHR);G&&G.off();gb();"undefined"!==typeof mCustomScrollbar&&(sa.mCustomScrollbar("destroy"),ua.mCustomScrollbar("destroy"));La=!1;E.empty();N.empty();u.hide()};this.destroyPlaylist=function(){if(!q)return!1;Wa()};this.loadPlaylist=function(a){if(!q||na)return!1;if("undefined"===typeof a||MRPUtils.isEmpty(a))return alert("loadPlaylist method requires id parameter. loadPlaylist failed."),!1;if(Ba==a)return!1;var b=X.find(e(a));
if(0==b.length)return alert("Failed playlist selection! Playlist - "+a+" does not exist. Check activePlaylist option in settings!"),!1;C&&C.removeClass("mrp-playlist-item-active");ca&&(C=E.find(e(a)).addClass("mrp-playlist-item-active"));da(b)};this.openPopup=function(){if(!q)return!1;if("function"===typeof mrpOpenPopup)mrpOpenPopup(l,c);else{var a=document.createElement("script");a.type="text/javascript";a.src=MRPUtils.qualifyURL(Aa+"js/popup.js?7");a.onload=a.onreadystatechange=function(){this.readyState&&
"complete"!=this.readyState||mrpOpenPopup(l,c)};a.onerror=function(){alert("Error loading "+this.src)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}};this.getRadioData=function(){return q?J:!1};this.getPlaylistLoading=function(){return na};this.setPlaybackRate=function(a){if(!q||!v)return!1;h&&(h.playbackRate=Number(a))};this.setVolume=function(a){if(!q)return!1;0>a?a=0:1<a&&(a=1);ka(a)};this.getVolume=function(){return n};this.toggleMute=function(){if(!q)return!1;
P()};this.getSetupDone=function(){return q};this.getMediaPlaying=function(){return q?Y:!1};this.getWrapper=function(){return d};this.getPlaylistList=function(){return X};this.getSettings=function(){return c};"fixed"==O?this.togglePlaylist=function(){l.playlistOpened?d.animate({bottom:-ub.height()+"px"},350):d.animate({bottom:0},350);l.playlistOpened=!l.playlistOpened}:"artwork5"==O&&(this.togglePlaylist=function(){var a=d.width()-50;l.playlistOpened?Oa.css("left",Oa.css("left")).stop().animate({left:"0px"},
{duration:500}):Oa.stop().animate({left:a+"px"},{duration:500});l.playlistOpened=!l.playlistOpened});var q=!0;e(l).trigger("setupDone",{instance:l,instanceName:O});X.find(".mrp-playlist-item").each(function(){la.push(e(this).removeClass("mrp-playlist-item-active"))});var T=la.length;if(void 0!=c.activeRadioStationIndex)var ha=X.find(".mrp-playlist-item").eq(c.activeRadioStationIndex);else if(c.activePlaylist&&(ha=X.find(e(c.activePlaylist)),0==ha.length)){alert("Failed playlist selection! Playlist - "+
c.activePlaylist+" does not exist. Check activePlaylist option in settings!");return}ha&&(ha.addClass("mrp-playlist-item-active"),da(ha));ca&&rb();return this}})(jQuery);
(function(e){var c=function(){};c.isEmpty=function(c){return 0==c.replace(/^\s+|\s+$/g,"").length};c.isNumber=function(c){return!isNaN(parseFloat(c))&&isFinite(c)};c.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};c.isIE=function(){var c=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,P=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=P.exec(e)&&(c=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(e=navigator.userAgent,
P=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=P.exec(e)&&(c=parseFloat(RegExp.$1)));return-1!=c?!0:!1};c.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};c.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};c.qualifyURL=function(c){var e=document.createElement("a");e.href=c;return e.href};c.relativePath=function(c){return/^(?:[a-z]+:)?\/\//i.test(c)};c.hasLocalStorage=function(){try{return"localStorage"in e&&null!==e.localStorage}catch(Qa){return!1}};c.isChrome=
function(){return!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)};c.isSafari=function(){return 0<Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")};c.volumeCanBeSet=function(){var c=document.createElement("audio");if(!c)return!1;c.addEventListener("volumechange",function(){console.log("changed.")},!1);c.volume=0;return 0==c.volume?!0:!1};e.MRPUtils=c})(window);